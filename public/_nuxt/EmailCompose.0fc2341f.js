import y from"./KitEmailInput.ed2543f3.js";import{i as d,f as _,q as h,a as w,o as f,m as v,K as l,u as a,$ as g,aa as E,w as S,P as u,W as b,V,a8 as $,X as k,l as x}from"./entry.6d072c04.js";/* empty css                          */const C=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),F=()=>{const o=d(()=>"","$z0fd0SijJP"),e=d(()=>({show:!1,type:null,icon:"",message:""}),"$hFdkxl5WVp"),s=()=>{e.value={show:!1,type:null,icon:"",message:""}},n=_(()=>C(o.value)),c=async()=>{if(!n.value){e.value={show:!0,type:"error",icon:"StatusFail",message:"Enter valid email"};return}s(),await m()?e.value={show:!0,type:"success",icon:"StatusOk",message:"Thank you for subscribing"}:e.value={show:!0,type:"network-error",icon:"StatusFail",message:"Something went wrong"}},m=async()=>{try{const{status:i}=await $fetch("/api/submit-email",{method:"POST",body:{email:o.value}});return i==="success"}catch{return!1}},t=_(()=>n.value&&e.value.type==="error");return h(()=>t.value,()=>s()),{email:o,isEmailValid:n,notification:e,resetNotification:s,submitHandler:c}},K={class:"email-compose"},N={key:0,class:"notification"},O={class:"icon"},P={class:"text"},T=w({__name:"EmailCompose",setup(o){const{email:e,notification:s,submitHandler:n,resetNotification:c}=F();return(m,t)=>{const i=y,p=k;return f(),v("div",K,[l(i,{modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=r=>g(e)?e.value=r:null),placeholder:"Your email",class:"email-input",onKeyup:t[1]||(t[1]=E(r=>a(n)(),["enter"]))},null,8,["modelValue"]),l($,{name:"notification-transition"},{default:S(()=>[a(s).show?(f(),v("div",N,[u("div",O,[l(p,{name:a(s).icon,fill:""},null,8,["name"])]),u("div",P,b(a(s).message),1),u("div",{class:"close-icon",onClick:t[2]||(t[2]=r=>a(c)())},[l(p,{name:"Close",fill:""})])])):V("",!0)]),_:1})])}}}),j=x(T,[["__scopeId","data-v-5acf3522"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{H as E,j as _,F as u};
